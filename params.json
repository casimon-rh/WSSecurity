{
  "name": "Wssecurity",
  "tagline": "",
  "body": "# WSecurity\r\n\r\nImplementación de **Windows Communication Foundation** para el consumo de Servicios Web asegurados en un **Oracle Service Bus**\r\n\r\n## Colaboradores\r\n- Eneas Mejía\r\n- Carlos Simón :grin:\r\n- Jorge Ugalde\r\n\r\n## Requisitos\r\n- Visual Studio 2013 o superior\r\n  - Net Framework 4.5.1\r\n- Component Pro\r\n  - [Ultimate SAML] (http://www.componentpro.com/saml.net/)\r\n- Certificados de prueba\r\n\r\n\r\n## Consideraciones\r\n- Especificar el **issuer** correcto en la ubicación marcada con un **#error**\r\n```c#\r\nprivate Assertion CreateAssertion()\r\n{\r\n    // Este se obtiene con el OAM\r\n    Assertion assertion = new Assertion();\r\n    assertion.Id = \"_\" + Guid.NewGuid().ToString();\r\n    assertion.IssueInstant = DateTime.UtcNow;\r\n\t#error Especificar issuer\r\n    assertion.Issuer = new Issuer(\"www.example.com.mx\", null, null, SamlNameIdentifierFormat.Entity, null);\r\n    assertion.Conditions = new Conditions(DateTime.UtcNow, DateTime.UtcNow.AddMinutes(5));\r\n    assertion.Subject = new Subject(new NameId(\"DEAA9255\")\r\n    {\r\n        Format = \"urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified\"\r\n    })\r\n    {\r\n        SubjectConfirmations = new List<SubjectConfirmation>()\r\n        {\r\n            new SubjectConfirmation(\"urn:oasis:names:tc:SAML:2.0:cm:sender-vouches\")\r\n        }\r\n    };\r\n\r\n    return assertion;\r\n\r\n}\r\n\r\n```\r\nEspecificar la **url del endpoint** en la ubicación marcada con un **#error**\r\n```c#\r\nprivate void cmdGo_Click(object sender, EventArgs e)\r\n{\r\n\t#error especificar url del endpoint\r\n    EndpointAddress adress =\r\n        new EndpointAddress(new Uri(\"http://192.168.0.1/testService\"), EndpointIdentity.CreateDnsIdentity(\"jasper2\"));\r\n    var factory = new ChannelFactory<FechasPortType>(\"BindingOSB\", adress);\r\n    SamlAssertionClientCredentials saml = new SamlAssertionClientCredentials(new SamlAssertionInfo(CreateAssertion()));\r\n}\r\n```\r\n\r\n\r\n- Especificar ruta del **certificado**  en el archivo **App.Config**\r\n```xml\r\n<object type=\"System.Security.Cryptography.X509Certificates.X509Certificate2,System\" id=\"Certificate\">\r\n    <constructor-arg value=\"Ruta\" />\r\n    <constructor-arg value=\"Contraseña\" />\r\n</object>\r\n\r\n```\r\n- Especificar Namespaces del **response**  en el archivo **App.Config**\r\n```xml\r\n<object type=\"CertFixEscapedComma.CertRefEncoder,MySecurityBE\" id=\"Encoder\" singleton=\"false\">\r\n    <property name=\"certificado\" ref=\"Certificate\"/>\r\n    <property name=\"cypher\" ref=\"Cypher\"/>\r\n    <property name=\"namespaces\">\r\n        <dictionary key-type=\"string\" value-type=\"string\">\r\n            <entry key=\"valid\" value=\"https://\"/>\r\n            <entry key=\"invalid\" value=\"https://\"/>\r\n        </dictionary>\r\n    </property>\r\n</object>\r\n\r\n```\r\n    \r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}